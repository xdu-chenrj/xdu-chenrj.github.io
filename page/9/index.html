<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="向大佬学习orz">
<meta property="og:type" content="website">
<meta property="og:title" content="chenrj的博客">
<meta property="og:url" content="http://example.com/page/9/index.html">
<meta property="og:site_name" content="chenrj的博客">
<meta property="og:description" content="向大佬学习orz">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="chenrj">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/9/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>chenrj的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">chenrj的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/26/Mysql%E7%B4%A2%E5%BC%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="chenrj">
      <meta itemprop="description" content="向大佬学习orz">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="chenrj的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/26/Mysql%E7%B4%A2%E5%BC%95/" class="post-title-link" itemprop="url">Mysql索引</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-04-26 23:50:41" itemprop="dateCreated datePublished" datetime="2023-04-26T23:50:41+08:00">2023-04-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-04 11:35:35" itemprop="dateModified" datetime="2023-05-04T11:35:35+08:00">2023-05-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Mysql/" itemprop="url" rel="index"><span itemprop="name">Mysql</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Mysql/%E7%B4%A2%E5%BC%95/" itemprop="url" rel="index"><span itemprop="name">索引</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="索引是什么？"><a href="#索引是什么？" class="headerlink" title="索引是什么？"></a>索引是什么？</h3><p>索引是一种数据结构。数据库索引是数据库管理系统中一个排序数据结构，用于加速数据查询。</p>
<h3 id="索引的优点"><a href="#索引的优点" class="headerlink" title="索引的优点"></a>索引的优点</h3><p>数据库中的索引好比书中的目录，加快数据的检索</p>
<h3 id="索引的缺点"><a href="#索引的缺点" class="headerlink" title="索引的缺点"></a>索引的缺点</h3><ul>
<li><p>时间方面：创建和维护索引需要耗费时间，当表中的数据进行增、删、改的时候索引需要动态维护</p>
</li>
<li><p>空间方面：索引需要占用物理空间</p>
</li>
</ul>
<h3 id="如何创建一个索引"><a href="#如何创建一个索引" class="headerlink" title="如何创建一个索引"></a>如何创建一个索引</h3><h3 id="如何查看Mysql语句有没有用到索引"><a href="#如何查看Mysql语句有没有用到索引" class="headerlink" title="如何查看Mysql语句有没有用到索引"></a>如何查看Mysql语句有没有用到索引</h3><h3 id="创建索引的注意事项有哪些"><a href="#创建索引的注意事项有哪些" class="headerlink" title="创建索引的注意事项有哪些"></a>创建索引的注意事项有哪些</h3><h4 id="选择合适的字段创建索引"><a href="#选择合适的字段创建索引" class="headerlink" title="选择合适的字段创建索引"></a>选择合适的字段创建索引</h4><h4 id="频繁更新的字段谨慎建立索引"><a href="#频繁更新的字段谨慎建立索引" class="headerlink" title="频繁更新的字段谨慎建立索引"></a>频繁更新的字段谨慎建立索引</h4><h4 id="限制每张表的索引数量"><a href="#限制每张表的索引数量" class="headerlink" title="限制每张表的索引数量"></a>限制每张表的索引数量</h4><h4 id="尽可能的考虑建立联合索引而不是单列索引"><a href="#尽可能的考虑建立联合索引而不是单列索引" class="headerlink" title="尽可能的考虑建立联合索引而不是单列索引"></a>尽可能的考虑建立联合索引而不是单列索引</h4><h4 id="避免冗余索引"><a href="#避免冗余索引" class="headerlink" title="避免冗余索引"></a>避免冗余索引</h4><h4 id="字符串类型的数据使用前缀索引"><a href="#字符串类型的数据使用前缀索引" class="headerlink" title="字符串类型的数据使用前缀索引"></a>字符串类型的数据使用前缀索引</h4><h4 id="避免索引失效"><a href="#避免索引失效" class="headerlink" title="避免索引失效"></a>避免索引失效</h4><h4 id="删除长期未使用的索引"><a href="#删除长期未使用的索引" class="headerlink" title="删除长期未使用的索引"></a>删除长期未使用的索引</h4><h3 id="最左匹配原则"><a href="#最左匹配原则" class="headerlink" title="最左匹配原则"></a>最左匹配原则</h3><p>在使用联合索引时，<code>Mysql</code>会根据联合索引中的字段顺序，从左到右依次到查询条件中去匹配，如果查询条件中存在与联合索引中最左侧字段相匹配的字段，则就会使用该字段过滤一批数据，直到联合索引中的全部字段匹配完毕，或者在执行过程中遇到范围查询如<code>&gt;</code>，<code>&lt;</code>才会停止匹配。</p>
<p>对于<code>&gt;=</code>，<code>&lt;=</code>，<code>like</code>，<code>between</code>的范围查询，并不会停止匹配。</p>
<h3 id="什么时候会发生索引失效"><a href="#什么时候会发生索引失效" class="headerlink" title="什么时候会发生索引失效"></a>什么时候会发生索引失效</h3><h3 id="Mysql的索引类型有哪些？"><a href="#Mysql的索引类型有哪些？" class="headerlink" title="Mysql的索引类型有哪些？"></a>Mysql的索引类型有哪些？</h3><p>根据数据结构层次可以划分为：</p>
<ul>
<li><code>Hash</code>索引：通过键的<code>hash</code>值快速定位</li>
<li><code>BTree</code>索引：<code>Mysql</code>的存储引擎<code>InoDB</code>实现的是其变种<code>B+Tree</code></li>
<li>全文索引：对文本的内容进行分词，进行搜索。目前只有<code>CHAR</code>，<code>VARCHAR</code>，<code>TEXT</code>列上可以创建全文索引。一般不同，使用<code>es</code>替代。</li>
</ul>
<p>根据应用层次分为：</p>
<ul>
<li><p>主键索引：加速查询、列值唯一且不能为<code>NULL</code>、表中只能存在一个主键索引</p>
<blockquote>
<p><code>InnoDB</code>引擎中，如果没有显示指定表的主键时，<code>InnoDB</code>会自动检查表中是否有唯一索引且不存在<code>NULL</code>值的字段，如果有则选择该字段为默认的主键，否则自动创建一个6<code>Byte</code>的自增主键</p>
</blockquote>
</li>
<li><p>普通索引：仅加速查询、一张表允许多个普通索引</p>
</li>
<li><p>唯一索引：加速查询、列值唯一且可以为<code>NULL</code>、一张表可以有多个唯一索引，建立唯一索引的目的大多数为了该属性列数据的唯一性，而非查询效率</p>
</li>
<li><p>覆盖索引：一个索引包含了所有需要查询的字段的值</p>
</li>
<li><p>联合索引：多个列组成一个索引</p>
</li>
<li><p>前缀索引：前缀索引只适用于字符串类型的数据。前缀索引是对字符串的前几个字符创建索引，相比普通索引建立的数据更小</p>
</li>
<li><p>辅助索引：叶子节点存储主键，唯一索引，普通索引，前缀索引等索引都属于辅助索引</p>
</li>
</ul>
<p>根据底层数据存储方式层次可以分为：</p>
<ul>
<li>聚簇索引：索引结构和数据一起存放，<code>InnoDB</code>中的主键索引属于聚簇索引，相比非聚簇索引，聚簇索引大多数情况会少一次读取数据的IO操作</li>
<li>非聚簇索引：索引结构和数据分开存放，二级索引就属于非聚簇索引，因为叶子节点只存主键不存数据，所以大多数情况下会进行一次回表操作</li>
</ul>
<h3 id="非聚簇索引不一定引发回表"><a href="#非聚簇索引不一定引发回表" class="headerlink" title="非聚簇索引不一定引发回表"></a>非聚簇索引不一定引发回表</h3><p>当聚簇索引是覆盖索引的时候不会发生回表</p>
<h3 id="索引的底层数据结构"><a href="#索引的底层数据结构" class="headerlink" title="索引的底层数据结构"></a>索引的底层数据结构</h3><h4 id="Hash索引的底层实现"><a href="#Hash索引的底层实现" class="headerlink" title="Hash索引的底层实现"></a>Hash索引的底层实现</h4><p>哈希表是键值对的集合，通过键的<code>hash</code>值可以快速找到其位置，因此哈希表可以在接近<code>O(1)</code>的时间复杂度快速检索到数据，时间复杂度取决于<code>hash</code>函数。</p>
<h4 id="B树索引的底层实现"><a href="#B树索引的底层实现" class="headerlink" title="B树索引的底层实现"></a>B树索引的底层实现</h4><h4 id="B-树索引的底层实现"><a href="#B-树索引的底层实现" class="headerlink" title="B+树索引的底层实现"></a>B+树索引的底层实现</h4><h5 id="B-树插入操作"><a href="#B-树插入操作" class="headerlink" title="B+树插入操作"></a>B+树插入操作</h5><h5 id="B-树的删除操作"><a href="#B-树的删除操作" class="headerlink" title="B+树的删除操作"></a>B+树的删除操作</h5>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/25/%E4%B8%80%E8%87%B4%E6%80%A7%E5%93%88%E5%B8%8C%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="chenrj">
      <meta itemprop="description" content="向大佬学习orz">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="chenrj的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/25/%E4%B8%80%E8%87%B4%E6%80%A7%E5%93%88%E5%B8%8C%E7%AE%97%E6%B3%95/" class="post-title-link" itemprop="url">一致性哈希算法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-04-25 08:50:42" itemprop="dateCreated datePublished" datetime="2023-04-25T08:50:42+08:00">2023-04-25</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/23/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="chenrj">
      <meta itemprop="description" content="向大佬学习orz">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="chenrj的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/23/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/" class="post-title-link" itemprop="url">类加载器</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-04-23 20:03:40" itemprop="dateCreated datePublished" datetime="2023-04-23T20:03:40+08:00">2023-04-23</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/23/JVM%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="chenrj">
      <meta itemprop="description" content="向大佬学习orz">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="chenrj的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/23/JVM%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/" class="post-title-link" itemprop="url">JVM类加载机制</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-04-23 20:03:03" itemprop="dateCreated datePublished" datetime="2023-04-23T20:03:03+08:00">2023-04-23</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/23/JVM%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8CMS%E5%92%8CG1%E7%9A%84%E5%8C%BA%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="chenrj">
      <meta itemprop="description" content="向大佬学习orz">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="chenrj的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/23/JVM%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8CMS%E5%92%8CG1%E7%9A%84%E5%8C%BA%E5%88%AB/" class="post-title-link" itemprop="url">JVM垃圾回收器CMS和G1的区别</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-04-23 20:00:25" itemprop="dateCreated datePublished" datetime="2023-04-23T20:00:25+08:00">2023-04-23</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/23/JVM%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="chenrj">
      <meta itemprop="description" content="向大佬学习orz">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="chenrj的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/23/JVM%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%AE%97%E6%B3%95/" class="post-title-link" itemprop="url">JVM垃圾回收算法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-04-23 19:59:47" itemprop="dateCreated datePublished" datetime="2023-04-23T19:59:47+08:00">2023-04-23</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/18/Java%E4%B8%AD%E7%9A%84%E9%94%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="chenrj">
      <meta itemprop="description" content="向大佬学习orz">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="chenrj的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/18/Java%E4%B8%AD%E7%9A%84%E9%94%81/" class="post-title-link" itemprop="url">Java中的锁</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-04-18 21:39:43" itemprop="dateCreated datePublished" datetime="2023-04-18T21:39:43+08:00">2023-04-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-04-19 00:21:34" itemprop="dateModified" datetime="2023-04-19T00:21:34+08:00">2023-04-19</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="公平锁与非公平锁"><a href="#公平锁与非公平锁" class="headerlink" title="公平锁与非公平锁"></a>公平锁与非公平锁</h3><h4 id="公平锁：线程A获取了锁资源之后，线程B没有拿到，线程B去排队，线程C来了，锁被A持有，同时线程B在排队，线程C直接排到线程B后面，等待线程B拿到锁资源或者B取消后，才尝试竞争锁资源"><a href="#公平锁：线程A获取了锁资源之后，线程B没有拿到，线程B去排队，线程C来了，锁被A持有，同时线程B在排队，线程C直接排到线程B后面，等待线程B拿到锁资源或者B取消后，才尝试竞争锁资源" class="headerlink" title="公平锁：线程A获取了锁资源之后，线程B没有拿到，线程B去排队，线程C来了，锁被A持有，同时线程B在排队，线程C直接排到线程B后面，等待线程B拿到锁资源或者B取消后，才尝试竞争锁资源"></a>公平锁：线程A获取了锁资源之后，线程B没有拿到，线程B去排队，线程C来了，锁被A持有，同时线程B在排队，线程C直接排到线程B后面，等待线程B拿到锁资源或者B取消后，才尝试竞争锁资源</h4><h4 id="非公平锁：线程A获取到了锁资源，线程B没有拿到，线程B去排队，线程C来了，先尝试竞争一下锁资源"><a href="#非公平锁：线程A获取到了锁资源，线程B没有拿到，线程B去排队，线程C来了，先尝试竞争一下锁资源" class="headerlink" title="非公平锁：线程A获取到了锁资源，线程B没有拿到，线程B去排队，线程C来了，先尝试竞争一下锁资源"></a>非公平锁：线程A获取到了锁资源，线程B没有拿到，线程B去排队，线程C来了，先尝试竞争一下锁资源</h4><blockquote>
<h4 id="拿到锁资源：插队成功"><a href="#拿到锁资源：插队成功" class="headerlink" title="拿到锁资源：插队成功"></a>拿到锁资源：插队成功</h4><h4 id="没有拿到锁资源：依然要排到线程B后面，等线程B拿到锁资源或者取消，才尝试去竞争锁资源"><a href="#没有拿到锁资源：依然要排到线程B后面，等线程B拿到锁资源或者取消，才尝试去竞争锁资源" class="headerlink" title="没有拿到锁资源：依然要排到线程B后面，等线程B拿到锁资源或者取消，才尝试去竞争锁资源"></a>没有拿到锁资源：依然要排到线程B后面，等线程B拿到锁资源或者取消，才尝试去竞争锁资源</h4></blockquote>
<blockquote>
<p>Java提供的synchronized只能是非公平锁</p>
<p>Java提供的ReentrantLock、ReentrantReadWriteLock可以实现公平锁和非公平锁</p>
</blockquote>
<h3 id="可重入锁与不可重入锁"><a href="#可重入锁与不可重入锁" class="headerlink" title="可重入锁与不可重入锁"></a>可重入锁与不可重入锁</h3><h4 id="可重入：当前线程获取A锁之后，在获取之后尝试再次获取A锁是可以直接拿到的"><a href="#可重入：当前线程获取A锁之后，在获取之后尝试再次获取A锁是可以直接拿到的" class="headerlink" title="可重入：当前线程获取A锁之后，在获取之后尝试再次获取A锁是可以直接拿到的"></a>可重入：当前线程获取A锁之后，在获取之后尝试再次获取A锁是可以直接拿到的</h4><h4 id="不可重入：当前线程获取A锁之后，尝试再次获取A锁是无法获取到的。"><a href="#不可重入：当前线程获取A锁之后，尝试再次获取A锁是无法获取到的。" class="headerlink" title="不可重入：当前线程获取A锁之后，尝试再次获取A锁是无法获取到的。"></a>不可重入：当前线程获取A锁之后，尝试再次获取A锁是无法获取到的。</h4><blockquote>
<p>Java中的synchronized，ReentrantLock，ReentrantReadWriteLock都是可重入式锁</p>
</blockquote>
<h3 id="乐观锁与悲观锁"><a href="#乐观锁与悲观锁" class="headerlink" title="乐观锁与悲观锁"></a>乐观锁与悲观锁</h3><h4 id="悲观锁：获取不到锁资源的时候会将当前线程挂起，线程挂起会涉及到用户态和内核态之间的切换，这种切换是非常消耗资源的。"><a href="#悲观锁：获取不到锁资源的时候会将当前线程挂起，线程挂起会涉及到用户态和内核态之间的切换，这种切换是非常消耗资源的。" class="headerlink" title="悲观锁：获取不到锁资源的时候会将当前线程挂起，线程挂起会涉及到用户态和内核态之间的切换，这种切换是非常消耗资源的。"></a>悲观锁：获取不到锁资源的时候会将当前线程挂起，线程挂起会涉及到用户态和内核态之间的切换，这种切换是非常消耗资源的。</h4><h4 id="线程切换引起内核态切换的原因？"><a href="#线程切换引起内核态切换的原因？" class="headerlink" title="线程切换引起内核态切换的原因？"></a>线程切换引起内核态切换的原因？</h4><p>当一个线程需要访问内核资源时，需要通过系统调用进入内核态来访问内核资源，比如IO操作。如果此时线程被挂起，会从内核态切回用户态，当挂起线程被重新唤醒，它将再次进入内核态。</p>
<blockquote>
<h4 id="用户态和内核态转换需要消耗的资源？"><a href="#用户态和内核态转换需要消耗的资源？" class="headerlink" title="用户态和内核态转换需要消耗的资源？"></a>用户态和内核态转换需要消耗的资源？</h4><p>1、CPU时间：在用户态和内核态进行切换时，CPU需要执行额外的指令，包括保存和恢复现场，这些指令会占用CPU时间，导致性能下降</p>
<p>2、上下文切换开销：当操作系统在不同的线程进行切换时，需要上下文切换，这会涉及到保存当前线程的上下文，然后加载新线程的上下文。</p>
</blockquote>
<h4 id="乐观锁：获取不到锁资源，可再次尝试让CPU调度，重新获取锁资源"><a href="#乐观锁：获取不到锁资源，可再次尝试让CPU调度，重新获取锁资源" class="headerlink" title="乐观锁：获取不到锁资源，可再次尝试让CPU调度，重新获取锁资源"></a>乐观锁：获取不到锁资源，可再次尝试让CPU调度，重新获取锁资源</h4><blockquote>
<p>Java提供的CAS操作就是一种乐观锁的一种实现方式 </p>
<p>Atomic原子类中也是基于CAS乐观锁来实现的</p>
</blockquote>
<h3 id="互斥锁与共享锁"><a href="#互斥锁与共享锁" class="headerlink" title="互斥锁与共享锁"></a>互斥锁与共享锁</h3><h4 id="互斥锁：同一个时间，只会有一个线程持有当前互斥锁"><a href="#互斥锁：同一个时间，只会有一个线程持有当前互斥锁" class="headerlink" title="互斥锁：同一个时间，只会有一个线程持有当前互斥锁"></a>互斥锁：同一个时间，只会有一个线程持有当前互斥锁</h4><h4 id="共享锁：同一个时间，当前共享锁可以被多个线程同时持有"><a href="#共享锁：同一个时间，当前共享锁可以被多个线程同时持有" class="headerlink" title="共享锁：同一个时间，当前共享锁可以被多个线程同时持有"></a>共享锁：同一个时间，当前共享锁可以被多个线程同时持有</h4><blockquote>
<p>共享锁一般配置读写锁来实现的，读写锁互斥，读读锁共享</p>
</blockquote>
<blockquote>
<p>Java提供的sychnronized、ReentrantLock是互斥锁</p>
<p>Java提供的ReentrantReadWriteLock有互斥锁也有共享锁</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/06/HashMap%E8%AF%A6%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="chenrj">
      <meta itemprop="description" content="向大佬学习orz">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="chenrj的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/06/HashMap%E8%AF%A6%E8%A7%A3/" class="post-title-link" itemprop="url">HashMap详解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-04-06 22:00:48" itemprop="dateCreated datePublished" datetime="2023-04-06T22:00:48+08:00">2023-04-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-03 00:54:15" itemprop="dateModified" datetime="2023-05-03T00:54:15+08:00">2023-05-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="HashMap的底层结构"><a href="#HashMap的底层结构" class="headerlink" title="HashMap的底层结构"></a>HashMap的底层结构</h3><p>jdk1.7中，HashMap是由数组加链表组成的，数组是主体，链表主要是为了解决hash冲突。</p>
<p>jdk1.8中，HashMap是由数组、链表加红黑树组成。当链表过长，则会严重影响HashMap的性能，红黑树的查询时间复杂度O(log n)，而链表的查询时间复杂度为O(n)。1.8中，链表和红黑树在达到一定条件会自动进行转换：</p>
<ul>
<li>当链表长度达到8时，且数据总量<code>&gt;=</code>64会转红黑树</li>
<li>当链表长度达到8时，数据总量<code>&lt;</code>64会直接扩容</li>
</ul>
<h3 id="HashMap的线程安全性"><a href="#HashMap的线程安全性" class="headerlink" title="HashMap的线程安全性"></a>HashMap的线程安全性</h3><h3 id="HashMap的key索引计算"><a href="#HashMap的key索引计算" class="headerlink" title="HashMap的key索引计算"></a>HashMap的key索引计算</h3><h3 id="HashMap的put操作"><a href="#HashMap的put操作" class="headerlink" title="HashMap的put操作"></a>HashMap的put操作</h3><h3 id="HashMap的get操作"><a href="#HashMap的get操作" class="headerlink" title="HashMap的get操作"></a>HashMap的get操作</h3><h3 id="HashMap的扩容机制"><a href="#HashMap的扩容机制" class="headerlink" title="HashMap的扩容机制"></a>HashMap的扩容机制</h3><h3 id="HashMap的冲突解决"><a href="#HashMap的冲突解决" class="headerlink" title="HashMap的冲突解决"></a>HashMap的冲突解决</h3><p>解决Hash冲突的办法有：</p>
<ul>
<li>开放地址法:</li>
<li>拉链法：使用链表等数据结构将哈希冲突的键值对连接在一起，当出现冲突时，将新的键值对插入到该位置对应的料表中。<ul>
<li>再哈希法：当哈希冲突发生时，选择另一个哈希函数来计算新哈希值，直到找到没有冲突的索引下标。需要设计多种哈希函数。</li>
</ul>
</li>
<li>建立公共溢出区：</li>
</ul>
<h3 id="HashMap的默认加载因子"><a href="#HashMap的默认加载因子" class="headerlink" title="HashMap的默认加载因子"></a>HashMap的默认加载因子</h3><h3 id="HashMap的Key类型选择"><a href="#HashMap的Key类型选择" class="headerlink" title="HashMap的Key类型选择"></a>HashMap的Key类型选择</h3><h3 id="HashMap为什么不直接用红黑树，而是先用链表再转红黑树"><a href="#HashMap为什么不直接用红黑树，而是先用链表再转红黑树" class="headerlink" title="HashMap为什么不直接用红黑树，而是先用链表再转红黑树"></a>HashMap为什么不直接用红黑树，而是先用链表再转红黑树</h3><h3 id="HashMap的长度为什么是2的幂次方"><a href="#HashMap的长度为什么是2的幂次方" class="headerlink" title="HashMap的长度为什么是2的幂次方"></a>HashMap的长度为什么是2的幂次方</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/01/%E6%90%AD%E9%85%8D%E8%B4%AD%E4%B9%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="chenrj">
      <meta itemprop="description" content="向大佬学习orz">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="chenrj的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/01/%E6%90%AD%E9%85%8D%E8%B4%AD%E4%B9%B0/" class="post-title-link" itemprop="url">搭配购买</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-02-01 23:29:53 / 修改时间：23:36:54" itemprop="dateCreated datePublished" datetime="2023-02-01T23:29:53+08:00">2023-02-01</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>Joe觉得云朵很美，决定去山上的商店买一些云朵。</p>
<p>商店里有 $n$朵云，云朵被编号为$1,2,…,n$，并且每朵云都有一个价值。</p>
<p>但是商店老板跟他说，一些云朵要搭配来买才好，所以买一朵云则与这朵云有搭配的云都要买。</p>
<p>但是Joe的钱有限，所以他希望买的价值越多越好。</p>
<h4 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h4><p>第 11 行包含三个整数$ n，m，w$，表示有$n$朵云，$m$个搭配，Joe有$w$的钱。</p>
<p>第$2∼n+1$行，每行两个整数 $ci，di$，表示$ i$ 朵云的价钱和价值。</p>
<p>第$n+2∼n+1+m$行，每行两个整数$ui，vi$，表示买$ui$就必须买$vi$，同理，如果买$vi$就必须买$ui$。</p>
<h4 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h4><p>一行，表示可以获得的最大价值。</p>
<h4 id="数据范围"><a href="#数据范围" class="headerlink" title="数据范围"></a>数据范围</h4><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e4</span> + <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> fa[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> w[N], v[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x != fa[x]) fa[x] = <span class="built_in">find</span>(fa[x]);</span><br><span class="line">    <span class="keyword">return</span> fa[x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m, _w;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; _w;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) fa[i] = i;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) </span><br><span class="line">        cin &gt;&gt; w[i] &gt;&gt; v[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="type">int</span> x, y;</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">        <span class="type">int</span> fx = <span class="built_in">find</span>(x), fy = <span class="built_in">find</span>(y);</span><br><span class="line">        <span class="keyword">if</span>(fx != fy) &#123;</span><br><span class="line">            w[fx] += w[fy];</span><br><span class="line">            v[fx] += v[fy];</span><br><span class="line">            fa[fy] = fx;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == fa[i]) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = _w; j &gt;= w[i]; j--) &#123;</span><br><span class="line">                f[j] = <span class="built_in">max</span>(f[j], f[j - w[i]] + v[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; f[_w] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/11/16/leetcode%E7%AC%AC319%E5%9C%BA%E5%91%A8%E8%B5%9B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="chenrj">
      <meta itemprop="description" content="向大佬学习orz">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="chenrj的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/16/leetcode%E7%AC%AC319%E5%9C%BA%E5%91%A8%E8%B5%9B/" class="post-title-link" itemprop="url">leetcode第319场周赛</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-11-16 15:19:12 / 修改时间：17:56:31" itemprop="dateCreated datePublished" datetime="2022-11-16T15:19:12+08:00">2022-11-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="温度转换"><a href="#温度转换" class="headerlink" title="温度转换"></a>温度转换</h3><h4 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h4><p>给你一个四舍五入到两位小数的非负浮点数$$celsius$$来表示温度，以 <strong>摄氏度</strong>（<strong>Celsius</strong>）为单位。</p>
<p>你需要将摄氏度转换为 <strong>开氏度</strong>（<strong>Kelvin</strong>）和 <strong>华氏度</strong>（<strong>Fahrenheit</strong>），并以数组 $$ans &#x3D; [kelvin, fahrenheit]$$的形式返回结果。</p>
<p>返回数组 $$ans$$ 。与实际答案误差不超过 $$10^{-5}$$ 的会视为正确答案。</p>
<p><strong>注意：</strong></p>
<ul>
<li><code>开氏度 = 摄氏度 + 273.15</code></li>
<li><code>华氏度 = 摄氏度 * 1.80 + 32.00</code></li>
</ul>
<p><strong>示例 1 ：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：celsius = 36.50</span><br><span class="line">输出：[309.65000,97.70000]</span><br><span class="line">解释：36.50 摄氏度：转换为开氏度是 309.65 ，转换为华氏度是 97.70 。</span><br></pre></td></tr></table></figure>

<p><strong>示例 2 ：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：celsius = 122.11</span><br><span class="line">输出：[395.26000,251.79800]</span><br><span class="line">解释：122.11 摄氏度：转换为开氏度是 395.26 ，转换为华氏度是 251.798 。</span><br></pre></td></tr></table></figure>

<h4 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h4><p>模拟即可。</p>
<h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">double</span>&gt; <span class="title">convertTemperature</span><span class="params">(<span class="type">double</span> celsius)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;celsius + <span class="number">273.15</span>, celsius * <span class="number">1.80</span> + <span class="number">32.00</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="最小公倍数为K的子数组数目"><a href="#最小公倍数为K的子数组数目" class="headerlink" title="最小公倍数为K的子数组数目"></a>最小公倍数为K的子数组数目</h3><h4 id="题意-1"><a href="#题意-1" class="headerlink" title="题意"></a>题意</h4><p>给你一个整数数组 <code>nums</code> 和一个整数 <code>k</code> ，请你统计并返回 <code>nums</code> 的 <strong>子数组</strong> 中满足 <em>元素最小公倍数为 <code>k</code></em> 的子数组数目。</p>
<p><strong>子数组</strong> 是数组中一个连续非空的元素序列。</p>
<p><strong>数组的最小公倍数</strong> 是可被所有数组元素整除的最小正整数。</p>
<p><strong>示例 1 ：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">输入：nums = [3,6,2,7,1], k = 6</span><br><span class="line">输出：4</span><br><span class="line">解释：以 6 为最小公倍数的子数组是：</span><br><span class="line">- [3,6,2,7,1]</span><br><span class="line">- [3,6,2,7,1]</span><br><span class="line">- [3,6,2,7,1]</span><br><span class="line">- [3,6,2,7,1]</span><br></pre></td></tr></table></figure>

<p><strong>示例 2 ：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：nums = [3], k = 2</span><br><span class="line">输出：0</span><br><span class="line">解释：不存在以 2 为最小公倍数的子数组。</span><br></pre></td></tr></table></figure>

<p><strong>提示：</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 1000</code></li>
<li><code>1 &lt;= nums[i], k &lt;= 1000</code></li>
</ul>
<h4 id="题解-1"><a href="#题解-1" class="headerlink" title="题解"></a>题解</h4><p>$$nums[i]$$, $$nums[i + 1]$$, $$nums[i + 2]$$的最小公倍数等于$$(nums[i]与nums[i + 1])$$的最小公倍数与$$nums[i + 2]$$的最小公倍数，是一个传导的过程，若干数的最大公约数也是如此。</p>
<p>当最小公倍数大于$$k$$时，及时break，减少不必要的计算。</p>
<h4 id="题解-2"><a href="#题解-2" class="headerlink" title="题解"></a>题解</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b ? <span class="built_in">gcd</span>(b, a % b) : a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">subarrayLCM</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="type">int</span> t = nums[i];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i; j &lt; nums.<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">                t = t * nums[j] / <span class="built_in">gcd</span>(t, nums[j]);</span><br><span class="line">                <span class="keyword">if</span>(t == k) res++;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(t &gt; k) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="逐层排序二叉树所需的最小操作数目"><a href="#逐层排序二叉树所需的最小操作数目" class="headerlink" title="逐层排序二叉树所需的最小操作数目"></a>逐层排序二叉树所需的最小操作数目</h3><h4 id="题意-2"><a href="#题意-2" class="headerlink" title="题意"></a>题意</h4><p>给你一个 <strong>值互不相同</strong> 的二叉树的根节点 <code>root</code> 。</p>
<p>在一步操作中，你可以选择 <strong>同一层</strong> 上任意两个节点，交换这两个节点的值。</p>
<p>返回每一层按 <strong>严格递增顺序</strong> 排序所需的最少操作数目。</p>
<p>节点的 <strong>层数</strong> 是该节点和根节点之间的路径的边数。</p>
<p><strong>示例 1 ：</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2022/09/18/image-20220918174006-2.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">输入：root = [1,4,3,7,6,8,5,null,null,null,null,9,null,10]</span><br><span class="line">输出：3</span><br><span class="line">解释：</span><br><span class="line">- 交换 4 和 3 。第 2 层变为 [3,4] 。</span><br><span class="line">- 交换 7 和 5 。第 3 层变为 [5,6,8,7] 。</span><br><span class="line">- 交换 8 和 7 。第 3 层变为 [5,6,7,8] 。</span><br><span class="line">共计用了 3 步操作，所以返回 3 。</span><br><span class="line">可以证明 3 是需要的最少操作数目。</span><br></pre></td></tr></table></figure>

<p><strong>示例 2 ：</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2022/09/18/image-20220918174026-3.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">输入：root = [1,3,2,7,6,5,4]</span><br><span class="line">输出：3</span><br><span class="line">解释：</span><br><span class="line">- 交换 3 和 2 。第 2 层变为 [2,3] 。 </span><br><span class="line">- 交换 7 和 4 。第 3 层变为 [4,6,5,7] 。 </span><br><span class="line">- 交换 6 和 5 。第 3 层变为 [4,5,6,7] 。</span><br><span class="line">共计用了 3 步操作，所以返回 3 。 </span><br><span class="line">可以证明 3 是需要的最少操作数目。</span><br></pre></td></tr></table></figure>

<h4 id="题解-3"><a href="#题解-3" class="headerlink" title="题解"></a>题解</h4><p>此问题可以拆解成两个问题。第一个问题是二叉树的层序遍历，第二个问题是如何在交换次数尽量少的情况下使得数组有序。</p>
<p>层序遍历可以用$BFS$来实现。</p>
<p>第二个问题可以通过</p>
<h4 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/8/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/10/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">chenrj</p>
  <div class="site-description" itemprop="description">向大佬学习orz</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">97</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">35</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chenrj</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
